<div class="container-fluid">
  <div class="page-header row">
    <div class="col-xs-12">
      <h3>{{"user.create.title" | translate | uppercase}}</h3>
      <div>{{'user.create.description' | translate}}</div>
    </div>
  </div>

  <div class="page-form-container">
    <form [formGroup]="registrationForm" novalidate (ngSubmit)="onSubmit()">
      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['ssn'].valid && registrationForm.controls['ssn'].touched}">
        <input class="form-control material-input" type="text" placeholder="{{'user.form.ssn' | translate}}"
               [formControl]="registrationForm.controls['ssn']">

        <div *ngIf="!registrationForm.controls['ssn'].valid && registrationForm.controls['ssn'].touched"
             class="alert alert-danger">{{'user.form.ssn.validation' | translate}}.</div>
        <div *ngIf="errors.ssn" class="alert alert-danger">{{errors.ssn}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['firstName'].valid && registrationForm.controls['firstName'].touched}">
        <input class="form-control material-input" type="text" placeholder="{{'user.form.first_name' | translate}}"
               [formControl]="registrationForm.controls['firstName']">

        <div *ngIf="!registrationForm.controls['firstName'].valid && registrationForm.controls['firstName'].touched"
             class="alert alert-danger">{{'user.form.first_name.validation' | translate}}.</div>
        <div *ngIf="errors.first_name" class="alert alert-danger">{{errors.first_name}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['lastName'].valid && registrationForm.controls['lastName'].touched}">
        <input class="form-control material-input" type="text" placeholder="{{'user.form.last_name' | translate}}"
               [formControl]="registrationForm.controls['lastName']">

        <div *ngIf="!registrationForm.controls['lastName'].valid && registrationForm.controls['lastName'].touched"
             class="alert alert-danger">{{'user.form.last_name.validation' | translate}}.</div>
        <div *ngIf="errors.last_name" class="alert alert-danger">{{errors.last_name}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['phone'].valid && registrationForm.controls['phone'].touched}">
        <input class="form-control material-input" type="text" placeholder="{{'user.form.phone' | translate}}"
               [formControl]="registrationForm.controls['phone']">

        <div *ngIf="!registrationForm.controls['phone'].valid && registrationForm.controls['phone'].touched"
             class="alert alert-danger">{{'user.form.phone.validation' | translate}}.</div>
        <div *ngIf="errors.phone" class="alert alert-danger">{{errors.phone}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['email'].valid && registrationForm.controls['email'].touched}">
        <input class="form-control material-input" type="text" placeholder="{{'user.form.email' | translate}}"
               [formControl]="registrationForm.controls['email']">

        <div *ngIf="!registrationForm.controls['email'].valid && registrationForm.controls['email'].touched"
             class="alert alert-danger">{{'user.form.email.validation' | translate}}.</div>
        <div *ngIf="errors.email" class="alert alert-danger">{{errors.email}}</div>
      </div>

      <div class="form-group material-group input-container">
        <autocomplete-dropdown [lookupType]="'list'" [enumList]="statuses"
                               [placeholder]="'user.form.current_status' | translate"
                               [(destination)]="userRegister.currentStatus"
                               [autocompleteResultLabelFunction]="namePropertyLabel"
                               [selectedItemLabelFunction]="namePropertyLabel">
        </autocomplete-dropdown>
        <input class="form-control material-input" type="hidden" [(ngModel)]="userRegister.currentStatus" [formControl]="registrationForm.controls['currentStatus']">

        <div *ngIf="!registrationForm.controls['currentStatus'].valid && registrationForm.controls['currentStatus'].touched"
             class="alert alert-danger">{{'user.form.current_status.validation' | translate}}.</div>
        <div *ngIf="errors.current_status" class="alert alert-danger">{{errors.current_status}}</div>
      </div>

      <div class="form-group material-group input-container">
        <autocomplete-dropdown [lookupType]="'list'" [enumList]="atUndStatuses"
                               [placeholder]="'user.form.at_und' | translate"
                               [(destination)]="userRegister.atUndStatus"
                               [autocompleteResultLabelFunction]="namePropertyLabel"
                               [selectedItemLabelFunction]="namePropertyLabel">
        </autocomplete-dropdown>
        <input class="form-control material-input" type="hidden" [(ngModel)]="userRegister.atUndStatus" [formControl]="registrationForm.controls['atUndStatus']">

        <div *ngIf="!registrationForm.controls['atUndStatus'].valid && registrationForm.controls['atUndStatus'].touched"
             class="alert alert-danger">{{'user.form.current_status.validation' | translate}}.</div>
        <div *ngIf="errors.atUndStatus" class="alert alert-danger">{{errors.atUndStatus}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['arrivedAt'].valid && registrationForm.controls['arrivedAt'].touched}">
        <input class="form-control material-input" type="date" placeholder="{{'user.form.arrived_at' | translate}}"
               [formControl]="registrationForm.controls['arrivedAt']">

        <div *ngIf="!registrationForm.controls['arrivedAt'].valid && registrationForm.controls['arrivedAt'].touched"
             class="alert alert-danger">{{'user.form.arrived_at.validation' | translate}}.</div>
        <div *ngIf="errors.arrived_at" class="alert alert-danger">{{errors.arrived_at}}</div>
      </div>

      <div class="form-group material-group input-container">
        <autocomplete-dropdown [lookupType]="'list'" [enumList]="countries"
                               [placeholder]="'user.form.country_of_origin' | translate"
                               [(destination)]="userRegister.countryOfOrigin"
                               [autocompleteResultLabelFunction]="namePropertyLabel"
                               [selectedItemLabelFunction]="namePropertyLabel">
        </autocomplete-dropdown>
        <input class="form-control material-input" type="hidden" [(ngModel)]="userRegister.countryOfOrigin" [formControl]="registrationForm.controls['countryOfOrigin']">

        <div *ngIf="!registrationForm.controls['countryOfOrigin'].valid && registrationForm.controls['countryOfOrigin'].touched"
             class="alert alert-danger">{{'user.form.country_of_origin.validation' | translate}}.</div>
        <div *ngIf="errors.country_of_origin" class="alert alert-danger">{{errors.country_of_origin}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['password'].valid && registrationForm.controls['password'].touched}">
        <input class="form-control material-input" type="password" placeholder="{{'user.form.password' | translate}}"
               [formControl]="registrationForm.controls['password']">

        <div *ngIf="!registrationForm.controls['password'].valid && registrationForm.controls['password'].touched"
             class="alert alert-danger">{{'user.form.password.validation' | translate}}.</div>
        <div *ngIf="errors.password" class="alert alert-danger">{{errors.password}}</div>
      </div>

      <div class="form-group material-group input-container" [ngClass]="{'has-error':!registrationForm.controls['repeatPassword'].valid && registrationForm.controls['repeatPassword'].touched}">
        <input class="form-control material-input" type="password" placeholder="{{'user.form.password' | translate}}"
               [formControl]="registrationForm.controls['repeatPassword']">

        <div *ngIf="!registrationForm.controls['repeatPassword'].valid && registrationForm.controls['repeatPassword'].touched"
             class="alert alert-danger">{{'user.form.passwordCompare.validation' | translate}}.</div>
        <div *ngIf="errors.repeatPassword" class="alert alert-danger">{{errors.repeatPassword}}</div>
      </div>

      <div class="form-group material-group input-container">
        <input type="file" id="image-filename" name="imageFilename" class="material-input" (change)="onImageFilenameChange($event)" accept="image/*">
        <label class="label-up material-label" for="image-filename">{{'user.form.picture' | translate}}</label>
      </div>

      <div class="form-group text-center input-container"  [ngClass]="{'has-error':!registrationForm.controls['acceptedTermsAndConditions'].valid && registrationForm.controls['acceptedTermsAndConditions'].touched}">
        <input type="checkbox" id="tac" name="tac" class="material-input" [formControl]="registrationForm.controls['acceptedTermsAndConditions']">
        <label for="tac">
          {{'terms.accept' | translate}} {{'terms' | translate}}
          <a href="/assets/terms/160523_2051-2_Terms_and_Conditions_(en).pdf" target="_blank"> PDF EN</a>,
          <a href="/assets/terms/160520_2051-2_Anvandarvillkor_(sv).pdf" target="_blank"> PDF SV</a>
        </label>
      </div>

      <span (click)="test()">test</span>

      <div class="text-center button-container">
        <button type="submit" class="button primary form-group" [disabled]="!registrationForm.valid">{{'common.continue' | translate}}</button>
      </div>
    </form>

    <div class="text-center">
      <div class="form-group">{{'common.have_account' | translate}}</div>
      <div>
        <a routerLink="/home" class="fs-m">{{'common.login' | translate}}</a>
      </div>
    </div>
  </div>
</div>
